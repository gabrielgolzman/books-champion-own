(this["webpackJsonpbooks-champion"]=this["webpackJsonpbooks-champion"]||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(26),r=n.n(o),i=(n(36),n(37),n(4)),s=n(29),l=n(3),j=(n(38),n(1)),u=function(e){var t=e.onLogin,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],r=a[1],s=Object(c.useState)(""),u=Object(i.a)(s,2),b=u[0],d=u[1],h=Object(l.m)(),O=Object(c.useRef)(null),x=Object(c.useRef)(null);return Object(j.jsx)("div",{className:"login-container",children:Object(j.jsxs)("div",{className:"login-box",children:[Object(j.jsx)("h4",{children:"\xa1Bienvenidos a Book Champions!"}),Object(j.jsx)("div",{className:"input-container",children:Object(j.jsx)("input",{className:"input-control",onChange:function(e){O.current.style.borderColor="",O.current.style.outline="",r(e.target.value)},placeholder:"Email",type:"email",ref:O})}),Object(j.jsx)("div",{className:"input-container",children:Object(j.jsx)("input",{className:"input-control",onChange:function(e){x.current.style.borderColor="",x.current.style.outline="",d(e.target.value)},placeholder:"Password",type:"password",ref:x})}),Object(j.jsx)("button",{onClick:function(){return 0===O.current.value.length?(O.current.focus(),O.current.style.borderColor="red",void(O.current.style.outline="none")):0===b.length?(x.current.focus(),x.current.style.borderColor="red",void(x.current.style.outline="none")):(alert("El email ingresado es: ".concat(o," y password ").concat(b)),t(),void h("/home"))},className:"signin-button",type:"button",children:"Iniciar sesi\xf3n"})]})})},b=n(6),d=n(8),h=n(30),O=n(27),x=(n(41),n(42),n(43),n(44),function(e){var t=e.date;console.log(t);var n=t.getFullYear(),c=t.toLocaleString("es-AR",{month:"long"}),a=t.getUTCDate();return Object(j.jsxs)("div",{className:"date-container",children:[Object(j.jsx)("div",{children:n}),Object(j.jsx)("div",{children:c}),Object(j.jsx)("div",{children:a})]})}),f=(n(45),function(e){var t=e.children;return Object(j.jsx)("div",{className:"book-item-container",children:t})}),m=function(e){var t=e.title,n=e.author,c=e.dateRead,a=e.pageCount;return Object(j.jsxs)(f,{children:[Object(j.jsx)("h2",{children:t}),Object(j.jsx)("h3",{children:n}),Object(j.jsx)(x,{date:c}),Object(j.jsxs)("p",{children:[a," p\xe1ginas"]})]})},v=function(e){var t=e.books,n=e.filterYear;return 0===t.length?Object(j.jsxs)("h2",{className:"no-books-read",children:["\xa1No le\xedste libros en ",n,"!"]}):t.map((function(e){return Object(j.jsx)(m,{title:e.title,author:e.author,pageCount:e.pageCount,dateRead:e.dateRead},e.id)}))},p=(n(46),function(e){var t=e.filterYear,n=e.onFilterYear;return Object(j.jsx)("div",{className:"Books-filter",children:Object(j.jsx)("div",{className:"Books-filter__control",children:Object(j.jsxs)("select",{value:t,onChange:function(e){n(e.target.value)},children:[Object(j.jsx)("option",{value:"2023",children:"2023"}),Object(j.jsx)("option",{value:"2022",children:"2022"}),Object(j.jsx)("option",{value:"2021",children:"2021"}),Object(j.jsx)("option",{value:"2020",children:"2020"}),Object(j.jsx)("option",{value:"2019",children:"2019"})]})})})}),g=(n(47),function(e){var t=e.value,n=e.maxValue,c="0%";return n>0&&(c=Math.round(t/n*100)+"%",console.log(c)),Object(j.jsxs)("div",{className:"chart-bar",children:[Object(j.jsx)("div",{className:"chart-bar__inner",children:Object(j.jsx)("div",{className:"chart-bar__fill",style:{width:c}})}),Object(j.jsx)("div",{className:"chart-bar__label",children:"Libros leidos"})]})}),k=(n(48),function(e){var t=e.maxRead,n=e.onMaxRead;return Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{children:"Registrar nuevo objetivo de lectura"}),Object(j.jsx)("input",{className:"new-max-read-control",onChange:function(e){n(e.target.value)},type:"number",step:"1",value:t})]})}),N=function(e){var t=e.books,n=Object(c.useState)("2021"),a=Object(i.a)(n,2),o=a[0],r=a[1],s=Object(c.useState)(7),l=Object(i.a)(s,2),u=l[0],b=l[1],d=t.filter((function(e){return e.dateRead.getFullYear().toString()===o}));return t.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(k,{maxRead:u,onMaxRead:function(e){b(e)}}),Object(j.jsx)(g,{value:d.length,maxValue:u}),Object(j.jsx)(p,{filterYear:o,onFilterYear:function(e){r(e)}})]}),Object(j.jsx)("div",{className:"books-container",children:Object(j.jsx)(v,{books:d,filterYear:o})})]}):Object(j.jsx)("p",{children:"No hay lecturas disponibles"})},C=(n(49),n(50),function(e){var t=e.onBookDataSaved,n=e.onToggleForm,a=Object(c.useState)(""),o=Object(i.a)(a,2),r=o[0],s=o[1],l=Object(c.useState)(""),u=Object(i.a)(l,2),b=u[0],d=u[1],h=Object(c.useState)(""),O=Object(i.a)(h,2),x=O[0],f=O[1],m=Object(c.useState)(""),v=Object(i.a)(m,2),p=v[0],g=v[1];return Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"new-book-controls",children:[Object(j.jsxs)("div",{className:"new-book-control",children:[Object(j.jsx)("label",{children:"T\xedtulo"}),Object(j.jsx)("input",{type:"text",className:"input-control",value:r,onChange:function(e){s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"new-book-control",children:[Object(j.jsx)("label",{children:"Autor"}),Object(j.jsx)("input",{type:"text",className:"input-control",value:b,onChange:function(e){d(e.target.value)}})]}),Object(j.jsxs)("div",{className:"new-book-control",children:[Object(j.jsx)("label",{children:"P\xe1ginas"}),Object(j.jsx)("input",{type:"number",className:"input-control",min:"1",step:"1",onChange:function(e){f(e.target.value)},value:x})]}),Object(j.jsxs)("div",{className:"new-book-control",children:[Object(j.jsx)("label",{children:"\xbfCu\xe1ndo terminaste de leerlo?"}),Object(j.jsx)("input",{type:"date",className:"input-control",min:"2019-01-01",max:"2022-12-31",onChange:function(e){g(e.target.value)},value:p})]})]}),Object(j.jsxs)("div",{className:"new-book-actions",children:[Object(j.jsx)("button",{onClick:n,children:"Cancelar"}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault();var n={title:r,author:b,pageCount:x,dateRead:new Date(p)};t(n),s(""),d(""),f(""),g("")},type:"button",children:"Agregar lectura"})]})]})}),y=function(e){var t=e.onBookAdded,n=Object(c.useState)(!1),a=Object(i.a)(n,2),o=a[0],r=a[1],s=function(){r(!o)};return o?Object(j.jsx)("div",{className:"new-book",children:Object(j.jsx)(C,{onToggleForm:s,onBookDataSaved:function(e){var n=Object(b.a)(Object(b.a)({},e),{},{id:Math.random().toString()});t(n)}})}):Object(j.jsx)("div",{className:"new-book",children:Object(j.jsx)("button",{className:"new-book-button",onClick:s,children:"Registrar nueva lectura"})})},S=n(53),w=function(e){var t=e.onSignOut,n=Object(c.useState)([]),a=Object(i.a)(n,2),o=a[0],r=a[1],s=Object(l.m)();return Object(c.useEffect)((function(){fetch("https://63a44a012a73744b0072f847.mockapi.io/api/books/Books",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{dateRead:new Date(e.dateRead)})}));r(t)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(O.a,{children:[Object(j.jsx)(S.a,{}),Object(j.jsx)(S.a,{md:3,className:"mx-3 d-flex justify-content-end",children:Object(j.jsx)(h.a,{className:"m-4",variant:"primary",onClick:function(){t(),s("/login")},children:"Cerrar Sesi\xf3n"})})]}),Object(j.jsx)("h2",{children:"Books Champion App"}),Object(j.jsx)(y,{onBookAdded:function(e){var t=e.dateRead.toISOString().slice(0,10);fetch("https://63a44a012a73744b0072f847.mockapi.io/api/books/Books",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:e.title,author:e.author,dateRead:t,pageCount:parseInt(e.pageCount,10)})}).then((function(e){if(e.ok)return e.json();throw new Error("The response has some errors!")})).then((function(){var t=[e].concat(Object(d.a)(o));r(t)})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)(N,{books:o})]})},R=function(e){var t=e.isSignedIn,n=e.children;return t?n:Object(j.jsx)(l.a,{to:"/login",replace:!0})},B=(n(51),function(){var e=Object(l.m)();return Object(j.jsxs)("div",{className:"container404",children:[Object(j.jsx)("h2",{className:"my-4",children:"\xa1Oops! La p\xe1gina solicitada no fue encontrada"}),Object(j.jsx)(h.a,{onClick:function(){e("/login")},variant:"primary",children:"Volver a iniciar sesi\xf3n"})]})}),F=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(s.a)([{path:"/",element:Object(j.jsx)(l.a,{to:"login"})},{path:"/login",element:Object(j.jsx)(u,{onLogin:function(){a(!0)}})},{path:"/home",element:Object(j.jsx)(R,{isSignedIn:n,children:Object(j.jsx)(w,{onSignOut:function(){a(!1)}})})},{path:"*",element:Object(j.jsx)(B,{})}]);return Object(j.jsx)(l.c,{router:o})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.e876f777.chunk.js.map